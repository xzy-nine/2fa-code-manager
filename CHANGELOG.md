# 更新日志

## [1.1.0] - 2025-06-13

### 🚀 重大升级

#### 🔧 TOTP库升级

- **集成OTPAuth库**: 从自实现算法升级到成熟的[OTPAuth](https://github.com/hectorm/otpauth)库 (v9.4.0)
- **标准兼容性**: 完全符合RFC 4226 (HOTP) 和 RFC 6238 (TOTP) 标准
- **功能增强**: 支持更多算法选项和配置参数
- **稳定性提升**: 使用经过广泛测试和验证的库实现
- **向后兼容**: 保持原有API接口，无需修改现有代码

#### 🔄 技术架构优化

- **库依赖**: 新增OTPAuth UMD版本 (25KB压缩)
- **适配器模式**: 创建TOTPAdapter包装器保持API兼容性
- **加载顺序**: 优化脚本加载顺序确保依赖正确

#### 📦 文件结构更新

```
html/js/lib/
├── otpauth.umd.min.js    # OTPAuth库 (新增)
└── jsQR.js               # QR码解析库
```

## [1.0.0] - 2025-06-12

### 🎉 首次发布

#### ✨ 新功能

- **智能填充**: 自动识别2FA验证码输入框，一键填充验证码
- **云端同步**: 支持WebDAV协议，多设备配置同步
- **本地存储**: 常用配置可本地存储，离线使用
- **二维码扫描**: 支持摄像头扫描和屏幕识别两种导入方式
- **生物识别**: 集成Windows Hello等生物识别验证
- **加密存储**: 使用AES-GCM算法保护敏感数据
- **记忆功能**: 自动记住网站配置关联，快速填充
- **实时更新**: 本地验证码实时显示和自动刷新

#### 🏗️ 核心架构

- **CryptoManager**: 完整的加密解密模块

  - AES-GCM强加密算法
  - PBKDF2密钥派生
  - 简单XOR备选加密
  - 密钥强度验证
- **TOTPGenerator**: TOTP算法实现

  - 符合RFC 6238标准
  - Base32解码支持
  - OTP URI解析
  - 时间同步验证
- **WebDAVClient**: WebDAV协议客户端

  - 标准WebDAV操作
  - 配置文件管理
  - 自动目录创建
  - 连接测试功能
- **QRScanner**: 二维码识别模块

  - 摄像头实时扫描
  - 屏幕录制识别
  - 文件上传扫描
  - 简化识别算法

#### 🎨 用户界面

- **现代化设计**: 美观的渐变色彩和流畅动画
- **标签页布局**: 填充、本地、扫描、设置四个功能区
- **响应式设计**: 适配不同屏幕尺寸
- **无障碍支持**: 支持键盘导航和屏幕阅读器
- **国际化准备**: 预留多语言支持接口

#### 🔒 安全特性

- **分层加密**: 配置列表明文，密钥数据强加密
- **会话管理**: 认证状态有时效性
- **权限最小化**: 只请求必要的浏览器权限
- **安全传输**: HTTPS强制加密传输
- **内存保护**: 敏感数据及时清除

#### 📱 浏览器支持

- ✅ Chrome 88+ (完整支持)
- ✅ Edge 88+ (完整支持)

#### 🌍 WebDAV兼容性

- ✅ Nextcloud
- ✅ ownCloud
- ✅ 坚果云
- ✅ Synology NAS
- ✅ QNAP NAS
- ✅ 标准WebDAV服务器

## 📝 版本说明

### 版本号规则

采用语义化版本控制 (SemVer)：

- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 更新类型

- 🎉 **新功能** (Features)
- 🐛 **问题修复** (Bug Fixes)
- 🔒 **安全更新** (Security)
- ⚡ **性能优化** (Performance)
- 🎨 **界面改进** (UI/UX)
- 📚 **文档更新** (Documentation)
- 🔧 **内部重构** (Refactoring)
